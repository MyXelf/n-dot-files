#!/bin/sh
#
#
#

# --------------------------------------------------------------------------------------------------
# NDF::SSH
# --------------------------------------------------------------------------------------------------
iam=`whoami`

if [ ! -f ~/.ssh/authorized_keys ] && [ ! -f ~/.ssh/authorized_keys2 ] && [ $iam = nm54591a ]; then
  mkdir -p ~/.ssh && cp /usr/local/scripts/data/$iam.key ~/.ssh/authorized_keys
  chmod 700 ~/.ssh && chmod 640 ~/.ssh/authorized_keys
fi

# --------------------------------------------------------------------------------------------------
# NDF::Aliases Sync
# --------------------------------------------------------------------------------------------------
[ -s /usr/local/scripts/data/$iam.aliases ] && rsync -aq /usr/local/scripts/data/$iam.aliases ~/.aliases

# --------------------------------------------------------------------------------------------------
# NDF::KSH Sync
# --------------------------------------------------------------------------------------------------
[ -s /usr/local/scripts/data/$iam.profile ] && rsync -aq /usr/local/scripts/data/$iam.profile ~/.profile
[ -s /usr/local/scripts/data/$iam.kshrc ] && rsync -aq /usr/local/scripts/data/$iam.kshrc ~/.kshrc

# --------------------------------------------------------------------------------------------------
# NDF::BASH & NFD::Vim Sync ! Infra Servers since I'm using full version
# --------------------------------------------------------------------------------------------------
if ! (hostname | egrep 'ldxx90infra1|ldxx90infra2' > /dev/null); then
  [ -s /usr/local/scripts/data/$iam.bash_profile ] && rsync -aq /usr/local/scripts/data/$iam.bash_profile ~/.bash_profile
  [ -s /usr/local/scripts/data/$iam.bashrc ] && rsync -aq /usr/local/scripts/data/$iam.bashrc ~/.bashrc

  [ -s /usr/local/scripts/data/$iam.vimrc ] && rsync -aq /usr/local/scripts/data/$iam.vimrc ~/.vimrc
fi
